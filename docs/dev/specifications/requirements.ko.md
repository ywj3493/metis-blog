# 기능 요구사항

이 문서는 Meti의 개인 기술 블로그의 사용자 대면 기능과 기능 요구사항을 명세합니다.

## 개요

이 블로그는 Notion을 CMS로 통합하고, AI 기반 향상 기능을 제공하며, 인터랙티브한 방문자 경험을 제공하는 콘텐츠 중심 플랫폼입니다. 모든 콘텐츠는 Notion을 통해 관리되며 공개 웹사이트와 자동으로 동기화됩니다.

## 기능 요구사항

### FR-001: 블로그 홈 페이지

**설명**: 주요 콘텐츠를 소개하고 블로그 주인을 소개하는 환영 홈 페이지로 방문자를 맞이합니다.

**사용자 스토리**:

- 방문자로서, Meti에 대한 소개를 보고 싶어서 누구의 블로그를 읽고 있는지 이해할 수 있습니다
- 방문자로서, 추천 포스트를 보고 싶어서 흥미로운 콘텐츠를 빠르게 발견할 수 있습니다

**인수 조건**:

- Meti의 소개가 포함된 히어로/프로필 섹션 표시
- Notion 데이터베이스에서 선택된 추천 포스트 그리드 표시
- 추천 포스트에는 제목, 요약, 날짜, 태그 포함
- 모바일 및 데스크톱용 반응형 디자인
- 테마 인식 스타일링 (라이트/다크 모드)

**구현 참고사항**:

- 추천 포스트는 특정 Notion 속성 또는 수동 선택으로 결정
- 프로필 콘텐츠는 Notion "About" 페이지에서 소싱

---

### FR-002: 포스트 탐색 및 필터링

**설명**: 콘텐츠 발견을 위한 태그 기반 필터링이 포함된 종합적인 포스트 탐색 기능을 제공합니다.

**사용자 스토리**:

- 방문자로서, 모든 게시된 포스트를 보고 싶어서 사용 가능한 콘텐츠를 탐색할 수 있습니다
- 방문자로서, 태그별로 포스트를 필터링하고 싶어서 특정 주제의 콘텐츠를 찾을 수 있습니다
- 방문자로서, 개별 포스트를 읽고 싶어서 콘텐츠를 소비할 수 있습니다

**인수 조건**:

**포스트 목록 페이지**:

- Notion에서 "Published" 상태인 모든 포스트 표시
- 포스트 메타데이터 표시: 제목, 날짜, 태그, 요약 (가능한 경우)
- 태그 필터링 UI 구현 (태그 선택/해제)
- 공유 가능한 링크를 위해 필터가 URL 파라미터 업데이트
- 반응형 그리드/리스트 레이아웃

**포스트 상세 페이지**:

- 적절한 포맷팅으로 전체 Notion 페이지 콘텐츠 렌더링
- 리치 콘텐츠 유지 (이미지, 코드 블록, 테이블 등)
- 포스트 메타데이터 표시 (제목, 날짜, 태그)
- 가능한 경우 AI 생성 요약 표시
- 이전/다음 포스트 네비게이션 제공
- 공유 기능 포함

**구현 참고사항**:

- 성능을 위해 필터링은 클라이언트 사이드에서 발생
- 리치 렌더링을 위해 비공식 Notion 클라이언트 (`react-notion-x`) 사용
- ISR 재검증으로 신선한 콘텐츠 보장

---

### FR-003: AI 기반 포스트 요약

**설명**: 독자가 블로그 포스트의 AI 요약을 온디맨드로 생성할 수 있도록 합니다.

**사용자 스토리**:

- 방문자로서, 포스트의 AI 요약을 요청하고 싶어서 주요 포인트를 빠르게 이해할 수 있습니다
- 재방문자로서, 사전 생성된 요약을 보고 싶어서 재생성을 기다리지 않아도 됩니다
- 블로그 소유자로서, 요약이 Notion에 저장되길 원해서 플랫폼 전반에서 접근 가능합니다

**인수 조건**:

- 포스트 상세 페이지에 "요약 생성" 버튼 표시
- 요약 생성 중 로딩 상태 표시
- 생성된 요약을 페이지에 눈에 띄게 표시
- 지속성을 위해 Notion "요약" 속성에 요약 저장
- 중복 API 호출을 피하기 위해 요약 캐싱
- 사용자 친화적인 메시지로 오류를 우아하게 처리

**기술 요구사항**:

- 환경 기반 LLM 선택 (프로덕션 OpenAI, 개발 로컬)
- API 라우트를 통한 요약 생성
- 요약 생성 후 캐시 무효화
- 남용 방지를 위한 속도 제한

**구현 참고사항**:

- 요약 생성은 비동기
- 공식 API를 통해 Notion 데이터베이스 업데이트
- 즉시 표시를 위해 캐시 재검증 트리거

---

### FR-004: About 페이지

**설명**: 연락 옵션과 함께 블로그 소유자에 대한 상세 정보를 제공합니다.

**사용자 스토리**:

- 방문자로서, Meti에 대해 알고 싶어서 배경과 전문성을 이해할 수 있습니다
- 방문자로서, 연락처 정보를 찾고 싶어서 연락할 수 있습니다

**인수 조건**:

- Notion 기반 "About Me" 콘텐츠 표시
- Notion 페이지의 리치 콘텐츠 렌더링
- 연락처 링크 및 소셜 미디어 표시
- Notion 소스와 콘텐츠 동기화 유지
- 모든 디바이스용 반응형 레이아웃

**구현 참고사항**:

- `NOTION_ABOUT_PAGE_ID`에서 콘텐츠 소싱
- 리치 렌더링을 위해 비공식 Notion 클라이언트 사용
- ISR 재검증으로 콘텐츠 신선도 유지

---

### FR-005: 인터랙티브 방명록

**설명**: 방문자가 블로그 소유자에게 공개 또는 비공개 메시지를 남길 수 있도록 합니다.

**사용자 스토리**:

- 방문자로서, 메시지를 남기고 싶어서 피드백이나 생각을 공유할 수 있습니다
- 방문자로서, 메시지 가시성 (공개/비공개)을 선택하고 싶어서 누가 볼지 제어할 수 있습니다
- 방문자로서, 기존 공개 메시지를 보고 싶어서 다른 사람들의 생각을 읽을 수 있습니다
- 블로그 소유자로서, 메시지가 Notion에 저장되길 원해서 중앙에서 관리할 수 있습니다

**인수 조건**:

**방명록 폼**:

- 입력 필드: 이름, 이메일 (선택사항), 메시지, 가시성 (공개/비공개)
- 명확한 오류 메시지가 포함된 클라이언트 사이드 검증
- 로딩 상태가 있는 제출 버튼
- 제출 후 성공 확인
- 성공적인 제출 후 폼 초기화

**방명록 표시**:

- 시간순으로 모든 공개 메시지 표시
- 메시지 작성자, 날짜, 내용 표시
- 반응형 카드/리스트 레이아웃
- 많은 메시지에 대한 페이지네이션 또는 무한 스크롤

**데이터 저장**:

- Notion 방명록 데이터베이스에 메시지 제출
- 저장: 이름, 이메일, 메시지, 가시성, 타임스탬프
- 저장 전 데이터 검증

**구현 참고사항**:

- 검증을 위해 `react-hook-form` + `zod` 사용
- API 라우트가 Notion 데이터베이스 삽입 처리
- 제출 후 캐시 재검증

---

### FR-006: 연락처 및 이메일 알림

**설명**: 중요한 상호작용에 대한 연락 옵션과 이메일 알림을 제공합니다.

**사용자 스토리**:

- 방문자로서, 연락처 링크를 찾고 싶어서 선호하는 채널로 Meti에게 연락할 수 있습니다
- 블로그 소유자로서, 이메일 알림을 받고 싶어서 중요한 방문자 피드백을 놓치지 않습니다

**인수 조건**:

**연락처 섹션**:

- 이메일, 소셜 미디어, GitHub 링크 표시
- 직접 메시지를 위한 빠른 연락 폼
- 연락을 위한 명확한 콜투액션

**이메일 알림**:

- 연락 폼 제출 시 이메일 알림 전송
- 새 방명록 항목에 대한 이메일 알림 전송 (설정 가능)
- 이메일에 관련 메시지 세부사항 포함
- Gmail SMTP를 통한 신뢰할 수 있는 전달

**구현 참고사항**:

- 이메일 서비스는 Gmail과 함께 `nodemailer` 사용
- API 라우트를 통해 알림 트리거
- 사용자 경험 차단을 피하기 위한 비동기 처리

---

### FR-007: 테마 시스템

**설명**: 자동 감지 및 수동 토글이 포함된 라이트 및 다크 테마를 지원합니다.

**사용자 스토리**:

- 방문자로서, 테마가 시스템 설정과 일치하길 원해서 읽기 편합니다
- 방문자로서, 수동으로 테마를 전환하고 싶어서 기본값을 재정의할 수 있습니다
- 방문자로서, 테마 선택이 유지되길 원해서 후속 방문에도 유지됩니다

**인수 조건**:

- 첫 방문 시 시스템 테마 설정 감지
- 테마 토글 컨트롤 제공 (접근 가능한 위치)
- 브라우저 저장소에 테마 선택 유지
- 테마 간 부드러운 전환 (깜박임 없음)
- 모든 UI 요소가 테마 인식 (일관된 스타일링)

**테마 적용 범위**:

- 텍스트 색상 (읽기 쉬운 대비 비율)
- 배경 색상
- 컴포넌트 테두리 및 그림자
- 코드 블록 구문 강조
- 이미지 배경 (해당되는 경우)

**구현 참고사항**:

- `next-themes` 라이브러리 사용
- 루트 레이아웃의 테마 프로바이더
- 색상 토큰을 위한 CSS 변수
- 스타일링을 위한 Tailwind `dark:` 수정자

---

### FR-008: SEO 및 분석

**설명**: 검색 엔진 최적화 및 사이트 성능 추적.

**사용자 스토리**:

- 블로그 소유자로서, 검색 엔진에서 오가닉 트래픽을 원해서 콘텐츠가 더 많은 독자에게 도달합니다
- 블로그 소유자로서, 트래픽과 성능을 추적하고 싶어서 방문자 행동을 이해할 수 있습니다
- 방문자로서, 빠른 페이지 로드를 원해서 좋은 읽기 경험을 합니다

**인수 조건**:

**SEO 최적화**:

- 각 페이지에 메타 태그 (제목, 설명, Open Graph)
- 중복 콘텐츠 방지를 위한 Canonical URL
- 모든 게시된 포스트가 포함된 동적 sitemap.xml
- 블로그 포스트를 위한 구조화된 데이터 (JSON-LD)
- Google Search Console 인증
- 설명적인 URL (슬러그 기반)

**분석**:

- 트래픽 추적을 위한 Vercel Analytics 통합
- Core Web Vitals를 위한 Speed Insights
- 개인정보 친화적 (침습적 추적 없음)

**성능**:

- 모든 메트릭에서 Lighthouse 점수 > 90
- 빠른 초기 페이지 로드 (< 2초)
- 최적화된 이미지 (Next.js Image 컴포넌트)
- 최소한의 JavaScript 번들 크기

**구현 참고사항**:

- 사이트맵은 API 라우트를 통해 동적으로 생성
- 페이지 메타데이터 내보내기에 메타 태그
- 루트 레이아웃에 분석 컴포넌트

---

### FR-009: UI 일관성 및 완성도

**설명**: 모든 페이지와 기능에서 일관되고 완성도 높은 사용자 인터페이스를 보장합니다.

**사용자 스토리**:

- 방문자로서, 일관된 룩앤필을 원해서 사이트가 응집력 있게 느껴집니다
- 방문자로서, 부드러운 인터랙션을 원해서 경험이 전문적으로 느껴집니다
- 모바일 방문자로서, 사이트가 내 디바이스에서 잘 작동하길 원합니다

**인수 조건**:

**시각적 일관성**:

- 공유 UI 컴포넌트 (버튼, 툴팁, 카드)
- 일관된 간격 및 타이포그래피
- CSS 변수를 통한 통합 색상 시스템
- 아이콘 일관성 (전체에서 같은 라이브러리)

**반응형 디자인**:

- 모바일 우선 접근
- 브레이크포인트: 모바일 (< 768px), 태블릿 (768-1024px), 데스크톱 (> 1024px)
- 모바일에서 터치 친화적 컨트롤
- 모든 디바이스에서 읽기 쉬운 텍스트 크기

**접근성**:

- 시맨틱 HTML 요소
- 적절한 곳에 ARIA 레이블
- 키보드 네비게이션 지원
- 충분한 색상 대비 (WCAG AA)

**구현 참고사항**:

- 일관된 스타일링을 위한 Tailwind CSS
- `src/shared/ui/`의 shadcn/ui 컴포넌트
- 실제 디바이스에서 테스트된 반응형 디자인

---

## 비기능 요구사항

### NFR-001: 성능

- 초기 페이지 로드 < 2초
- Time to Interactive (TTI) < 3초
- "Good" 범위의 Core Web Vitals
- 효율적인 ISR 캐싱 (5분 재검증)

### NFR-002: 신뢰성

- 99.9% 가동 시간 (Vercel SLA)
- 우아한 오류 처리 (빈 페이지 없음)
- 실패한 API 호출에 대한 폴백
- Notion 데이터베이스의 데이터 무결성

### NFR-003: 보안

- 클라이언트 코드에 노출된 시크릿 없음
- 환경 변수 검증
- 모든 트래픽에 HTTPS 적용
- 안전한 이메일 처리 (인젝션 없음)

### NFR-004: 유지보수성

- 깔끔한 FSD 아키텍처
- 종합적인 문서화
- TypeScript strict 모드로 타입 안전성
- 중요 경로에 대한 자동화된 테스팅

### NFR-005: 확장성

- 성능 저하 없이 100개 이상의 포스트 지원
- 클라이언트 사이드 필터링 (백엔드 병목 없음)
- Vercel Edge를 통한 CDN 캐싱
- 효율적인 이미지 최적화

## 범위 외

다음 기능들은 현재 요구사항에 명시적으로 **포함되지 않습니다**:

- 사용자 인증 및 계정
- 다중 작성자 지원
- 댓글 시스템 (방명록과 별개)
- 포스트 전체 텍스트 검색
- RSS 피드 생성
- 뉴스레터 구독
- 포스트 반응/좋아요
- 소셜 미디어 자동 포스팅
- 콘텐츠 관리를 위한 관리자 대시보드 (Notion이 이 역할 수행)

이러한 기능들은 사용자 피드백과 블로그 성장에 따라 향후 버전에서 고려될 수 있습니다.
